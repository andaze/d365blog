---
title:  "Dynamics 365 のウォールで最新の活動を追跡する"
draft: false
weight: 19
datetitle: "2017.08.23 | "
showinhome: true
showinaccordian: true
rightMenu: "artical"
jsonld: {
      "@context": "https://schema.org",
      "@type": "NewsArticle",
      "headline": "Article headline",
      "image": [
        "https://example.com/photos/1x1/photo.jpg",
        "https://example.com/photos/4x3/photo.jpg",
        "https://example.com/photos/16x9/photo.jpg"
       ],
      "datePublished": "2015-02-05T08:00:00+08:00",
      "dateModified": "2015-02-05T09:20:00+08:00",
      "author": {
        "@type": "Person",
        "name": "John Doe"
       },
       "publisher": {
        "@type": "Organization",
        "name": "Google",
        "logo": {
          "@type": "ImageObject",
          "url": "https://google.com/logo.jpg"
         }
       }
    }
---
{{< detailTopImage src="artical19.jpg" >}}
{{< authorImage src="authorimage.jpg" name="Takafumi Noguchi" linkdin="https://www.linkedin.com/in/tnoguchi1123531" >}}
<!-- Intro  -->
Dynamics 365 のダッシュボードについてご紹介した際に、ウォールについて触れました。
今回は、そのウォールに投稿を行ってみたいと思います。Dynamics 365 のトップページを開くと既定のダッシュボードページに遷移すると思いますが、ウォールでは各エンティティでの状況が投稿され、アクティブな活動を追跡できるようになっています。

例えば、取引先企業が新しく作成された場合、営業案件の競合企業が作成された場合、受注や失注をした場合など、ルールで決められているアクションが投稿されるような機能になっています。
<!-- Image= intro.png -->
{{< imagedisplay src="intro.png" >}}


## ウォールの設定について
ウォールでは、基本的にすべてのレコードというビューで最新の投稿が表示されている状態が既定になっています。ウォールに投稿される対象としては、取引先企業・担当者・営業案件・リード・サポート案件が既定で設定されています。

ダッシュボードのウォールを表示すると、ウォールが以下のように表示されているので、「すべてのレコード」の ▼ をクリックすると設定が確認できます。
<!-- Image= wall1.png -->
{{< imagedisplay src="wall1.png" >}}

上記の図では、すべてのレコード・営業案件・取引先企業などがフォローされており、投稿の内容としては、自分に関連する取引先企業・担当者・営業案件・リード・サポート案件がそれぞれフィルターできるようになっています。

（※補足）**フォローについて**
  フォローは、例えば取引先担当者のレコードを選択して、     
 右上の ・・・から「フォローする」をクリックすることで、ウォールの設定の「フォローする」に表示されるようになります。
 <!-- Image= follow1.jpg -->
{{< imagedisplay src="follow1.jpg" >}}

 結果を確認すると以下のようになっています。
 <!-- Image= follow2.png -->
{{< imagedisplay src="follow2.png" >}}

 投稿の内容の歯車をクリックすると、どのビューを利用するかを変更することができます。ウォールの情報は自分がフォローしている情報・関連している情報を表示する場所であるため、利用するビューは、「自分のXXX」となっています。
 <!-- Image= wall2.png -->
{{< imagedisplay src="wall2.png" >}}

 設定を開くと、ビューを表示するか非表示にするか、表示する順番などを変更できます。
 <!-- Image= wall3.png -->
{{< imagedisplay src="wall3.png" >}}

 ## ウォールに手動で投稿を行う
 ウォールへの投稿は2種類あり、ユーザーが手動で投稿する場合とシステムで自動投稿する場合です。手動で行う場合は「ユーザー投稿」をクリックして、登校したい内容を記載したら、「投稿」ボタンをクリックすれば投稿できます。
 <!-- Image= wall4.png -->
{{< imagedisplay src="wall4.png" >}}

 このように投稿されました。これはダッシュボードで行っていますが、もし取引先企業などのフォームで個別に投稿したい場合は、フォームに「メモ」を追加する必要があります。
 <!-- Image= wall5.png -->
{{< imagedisplay src="wall5.png" >}}

 ## ウォールの投稿を構成する
 
 フォームエディタを開いて、「挿入」タブに「メモ」とあります。これをフォームに挿入することでウォールを利用できます。既定ではすでに挿入されており、「ソーシャルペイン」としてリネームされているかと思います。
 <!-- Image= wall6.png -->
{{< imagedisplay src="wall6.png" >}}

 また、ウォールの投稿をカスタムエンティティに対して設定したい場合は、フォームに追加する前に、アクティビティフィードの構成をする必要があります。

「設定」メニューの「アクティビティフィードの構成」をクリックしてみます。
 <!-- Image= wall7.png -->
{{< imagedisplay src="wall7.png" >}}

ここで状態が非アクティブだと投稿が反映されないので、ウォールの投稿を利用したい場合は「アクティブ化」をクリックしておいてください。
 <!-- Image= wall8.png -->
{{< imagedisplay src="wall8.png" >}}

 ## 自動的にウォールに投稿する
 手動でウォールを投稿するよりも、自動で投稿される機能が格段に便利であるのではないかと思います。例えば、新しい活動が営業案件に作成されたり、所有者を変えたり、予想売上が更新された “そのタイミング” で即時にウォールに自動で投稿されれば、「いつ、だれが、何を、何のために」更新したのかを追跡できるようになります。

なお、Dynamics 365 が自動更新の対象としているルールについては、「アクティビティ フィードのルール」を確認します。
<!-- Image= wall9.png -->
{{< imagedisplay src="wall9.png" >}}

ただ見てわかる通り、既定で作成されているルール以外、新しく追加をすることができません。（＋新規 ボタンがメニューにないのでお分かりになるかと）
<!-- Image= wall10.png -->
{{< imagedisplay src="wall10.png" >}}

投稿という機能はとても便利なので、他のフィールドが更新されたタイミングなどでも活用したいと思う場合は、プロセスを利用すると実現することができます。

では仮に、取引先企業の「代表電話」というフィールドが更新されたタイミングで、自動的にウォールに投稿したい場合の新しいプロセスを作成する方法をお伝えします。

 

まずは通常通り、プロセスの新規作成画面に移動して、以下のように設定します。対象のエンティティは「取引先企業」です。（※詳細なプロセス作成手順は [Dynamics 365 のプロセス（ワークフロー）を活用しよう](#)  をご参考ください）
<!-- Image= wall11.png -->
{{< imagedisplay src="wall11.png" >}}

以下のようにワークフローの設定をします。    
「レコード フィールド変更」をトリガーとして「代表電話」を選択しています。
<!-- Image= wall12.png -->
{{< imagedisplay src="wall12.png" >}}

そして、「ステップの追加」で「レコードの作成」をクリックします。
<!-- Image= wall13.png -->
{{< imagedisplay src="wall13.png" >}}

そして、作成するエンティティを「投稿」にします。「プロパティの設定」で投稿の内容を編集しましょう。
<!-- Image= wall14.png -->
{{< imagedisplay src="wall14.png" >}}

そして、以下のように設定しました。設定した保存して閉じます。

※ 黄色の塗りつぶし箇所｛｝は、動的な値が入ります。

|       |  |
| ----------- | ----------- |
| テキスト      | {取引先企業名(取引先企業 )} の代表電話が {代表電話(取引先企業 )}  に更新されました       |
| ソース   | 自動投稿        |
| 関連   | {取引先企業(取引先企業 )}        |
| 種類   | チェックイン        |

<!-- Image= wall15.png -->
{{< imagedisplay src="wall15.png" >}}

プロセスを保存したら、アクティブ化しましょう。
<!-- Image= wall16.png -->
{{< imagedisplay src="wall16.png" >}}

それでは、取引先企業の「代表電話」（フォーム上では「電話」）を更新して保存します。
<!-- Image= wall17.png -->
{{< imagedisplay src="wall17.png" >}}

先ほど作成したプロセスの「プロセス セッション」を見ると、投稿が作成されていることがわかります。

 <!-- Image= wall18.png -->
{{< imagedisplay src="wall18.png" >}}

 取引先企業のフォームの、ウォールを更新してみると、投稿が作成されています。
 <!-- Image= wall19.png -->
{{< imagedisplay src="wall19.png" >}}

 このように、フィールドの変更や割り当て、削除などにおいても投稿とプロセスを掛け合わせることで、検出することができるのはとても便利な機能です。    
例えば、商談に重要となりうるフィールドが更新されたタイミングで、上述のプロセスを動作させることで、その商談の関係者は即座に状況を把握することができ、スピード感のある対応を行うことができるようになります。上司が部下の営業活動をウォッチして、適切なタイミングでアドバイスをできることにもつながります。

 

このような便利機能をぜひ活用してみてください。