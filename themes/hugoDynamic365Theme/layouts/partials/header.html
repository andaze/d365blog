<header class="df aic">
    <div class="container">
      <div class="navbar">
        <div class="navbar-left df aic">
          <a  href="#" class="left-mobile-menu" on="tap:mobileMenu.toggleClass(class='open')">
            <svg xmlns="http://www.w3.org/2000/svg" width="27" height="20" viewBox="0 0 27 20">
              <g id="Group_125" data-name="Group 125" transform="translate(-2628 117)">
                <rect id="Rectangle_18" data-name="Rectangle 18" width="27" height="4" rx="2"
                  transform="translate(2628 -117)" />
                <rect id="Rectangle_19" data-name="Rectangle 19" width="27" height="4" rx="2"
                  transform="translate(2628 -109)" />
                <rect id="Rectangle_20" data-name="Rectangle 20" width="27" height="4" rx="2"
                  transform="translate(2628 -101)" />
              </g>
            </svg>
          </a>
          {{ partial "language_url_change.html" (dict "path" (.Site.BaseURL | relLangURL) "class" "logo-link")}}
          {{.Site.Params.HeaderTitle}}</a>
          <a class="nav-link" href="#" aria-label="twitter-brands">
            <svg xmlns="http://www.w3.org/2000/svg" width="22.162" height="18" viewBox="0 0 22.162 18">
              <path id="twitter-brands"
                d="M19.884,52.568c.014.2.014.394.014.591A12.835,12.835,0,0,1,6.975,66.082,12.836,12.836,0,0,1,0,64.043a9.4,9.4,0,0,0,1.1.056,9.1,9.1,0,0,0,5.639-1.941,4.55,4.55,0,0,1-4.247-3.15,5.728,5.728,0,0,0,.858.07,4.8,4.8,0,0,0,1.2-.155A4.543,4.543,0,0,1,.9,54.466V54.41a4.574,4.574,0,0,0,2.053.577,4.549,4.549,0,0,1-1.406-6.075,12.911,12.911,0,0,0,9.366,4.753,5.128,5.128,0,0,1-.113-1.041,4.547,4.547,0,0,1,7.861-3.108,8.943,8.943,0,0,0,2.883-1.1,4.53,4.53,0,0,1-2,2.5,9.106,9.106,0,0,0,2.616-.7A9.764,9.764,0,0,1,19.884,52.568Z"
                transform="translate(0 -48.082)" fill="#1da1f2" />
            </svg>

          </a>
          <div id="search">
            <div id="searchBig"></div>
          </div>
          <!-- <a class="nav-link" href="#" on="tap:searchBox.show, AMP.setState({overflow: 'hidden'})">
            <svg xmlns="http://www.w3.org/2000/svg" width="17.997" height="18" viewBox="0 0 17.997 18">
              <path id="search-solid"
                d="M17.752,15.562l-3.5-3.5a.843.843,0,0,0-.6-.246h-.573a7.308,7.308,0,1,0-1.266,1.266v.573a.843.843,0,0,0,.246.6l3.5,3.5a.84.84,0,0,0,1.192,0l.995-.995A.848.848,0,0,0,17.752,15.562ZM7.312,11.811a4.5,4.5,0,1,1,4.5-4.5A4.5,4.5,0,0,1,7.312,11.811Z" />
            </svg>

          </a> -->
          {{ if or (eq .Params.RightMenu "chepter") (eq .Params.RightMenu "artical")  }}
          <a class="right-mobile-menu" on="tap:mobileDocMenu.toggleClass(class='open')" aria-label="Responsive Menu Button">
            <svg xmlns="http://www.w3.org/2000/svg" width="23" height="21" viewBox="0 0 23 21">
              <rect id="Rectangle_21" data-name="Rectangle 21" width="5" height="5" rx="1" fill="#1da1f2" />
              <rect id="Rectangle_29" data-name="Rectangle 29" width="5" height="5" rx="1" transform="translate(0 8)"
                fill="#1da1f2" />
              <rect id="Rectangle_22" data-name="Rectangle 22" width="5" height="5" rx="1" transform="translate(9)"
                fill="#1da1f2" />
              <rect id="Rectangle_25" data-name="Rectangle 25" width="5" height="5" rx="1" transform="translate(9 8)"
                fill="#1da1f2" />
              <rect id="Rectangle_28" data-name="Rectangle 28" width="5" height="5" rx="1" transform="translate(9 16)"
                fill="#1da1f2" />
              <rect id="Rectangle_23" data-name="Rectangle 23" width="5" height="5" rx="1" transform="translate(18)"
                fill="#1da1f2" />
              <rect id="Rectangle_24" data-name="Rectangle 24" width="5" height="5" rx="1" transform="translate(18 8)"
                fill="#1da1f2" />
              <rect id="Rectangle_27" data-name="Rectangle 27" width="5" height="5" rx="1" transform="translate(18 16)"
                fill="#1da1f2" />
            </svg>
          </a>
          {{ end }}
        </div>
        <div class="navbar-right ml-a">
          <div class="navbar-menu">
            <ul class="main-menu-dropdown">
              <li>
                {{ partial "language_option.html" . }}
              </li>
            </ul>

          </div>
        </div>



      </div>
    </div>
  </header>
  <!-- For Responsive menu drawer -->
  <div class="mobile-main-menu left" id="mobileMenu" [hidden]="mobileMenu">
    <div class="inner-main-menu">
      <span class="close" tabindex="0" role="button" on="tap:mobileMenu.toggleClass(class='open')"  aria-label="Responsive Menu Close Button">
        <svg xmlns="http://www.w3.org/2000/svg" width="18.872" height="17.952" viewBox="0 0 18.872 17.952">
          <line id="Line_3" data-name="Line 3" x2="17.5" y2="16.496" transform="translate(0.686 0.728)" fill="none"
            stroke="#fff" stroke-width="2" />
          <line id="Line_4" data-name="Line 4" y1="16.496" x2="17.5" transform="translate(0.686 0.728)" fill="none"
            stroke="#fff" stroke-width="2" />
        </svg>
      </span>
      {{ partial "language_option.html" . }}
        <a class="nav-link" href="#" aria-label="twitter-brands">
          <svg xmlns="http://www.w3.org/2000/svg" width="22.162" height="18" viewBox="0 0 22.162 18">
            <path id="twitter-brands"
              d="M19.884,52.568c.014.2.014.394.014.591A12.835,12.835,0,0,1,6.975,66.082,12.836,12.836,0,0,1,0,64.043a9.4,9.4,0,0,0,1.1.056,9.1,9.1,0,0,0,5.639-1.941,4.55,4.55,0,0,1-4.247-3.15,5.728,5.728,0,0,0,.858.07,4.8,4.8,0,0,0,1.2-.155A4.543,4.543,0,0,1,.9,54.466V54.41a4.574,4.574,0,0,0,2.053.577,4.549,4.549,0,0,1-1.406-6.075,12.911,12.911,0,0,0,9.366,4.753,5.128,5.128,0,0,1-.113-1.041,4.547,4.547,0,0,1,7.861-3.108,8.943,8.943,0,0,0,2.883-1.1,4.53,4.53,0,0,1-2,2.5,9.106,9.106,0,0,0,2.616-.7A9.764,9.764,0,0,1,19.884,52.568Z"
              transform="translate(0 -48.082)" fill="#1da1f2" />
          </svg>
  
        </a>
        <!-- <a class="nav-link" href="#" on="tap:searchBox.show, AMP.setState({overflow: 'hidden'})">
          <svg xmlns="http://www.w3.org/2000/svg" width="17.997" height="18" viewBox="0 0 17.997 18">
            <path id="search-solid"
              d="M17.752,15.562l-3.5-3.5a.843.843,0,0,0-.6-.246h-.573a7.308,7.308,0,1,0-1.266,1.266v.573a.843.843,0,0,0,.246.6l3.5,3.5a.84.84,0,0,0,1.192,0l.995-.995A.848.848,0,0,0,17.752,15.562ZM7.312,11.811a4.5,4.5,0,1,1,4.5-4.5A4.5,4.5,0,0,1,7.312,11.811Z" />
          </svg>
        </a> -->
      </div>
  </div>

  <div class="mobile-main-menu right" id="mobileDocMenu" [hidden]="mobileDocMenu">
    <div class="inner-main-menu">
      <span class="close" tabindex="0" role="button" on="tap:mobileDocMenu.toggleClass(class='open')" aria-label="Responsive Menu Button">
        <svg xmlns="http://www.w3.org/2000/svg" width="18.872" height="17.952" viewBox="0 0 18.872 17.952">
          <line id="Line_3" data-name="Line 3" x2="17.5" y2="16.496" transform="translate(0.686 0.728)" fill="none"
            stroke="#fff" stroke-width="2" />
          <line id="Line_4" data-name="Line 4" y1="16.496" x2="17.5" transform="translate(0.686 0.728)" fill="none"
            stroke="#fff" stroke-width="2" />
        </svg>
      </span>
      {{ if eq .Params.RightMenu "chepter" }}
        {{ with .Site.GetPage "/" }}
          {{ range .Sections }}
            {{ partial "language_url_change.html" (dict "path" (.URL | absURL) )}}
              {{ .Params.Heading }}</a>
          {{ end }}
        {{ end }}
      {{ end }}
      
      {{ $Scratch := newScratch}}
      {{ $Scratch.Set "type_arr" "" }}
      {{ if eq .Params.RightMenu "artical" }}
        {{ $getpage:= .File.Dir }}

        {{ $Scratch.Set "type_arr" (split $getpage "/") }}
        {{ if lt (len (split $getpage "/")) (2) }}
          {{ $Scratch.Set "type_arr" (split $getpage "\\") }}
        {{ end }}
        {{ $type_arr := $Scratch.Get "type_arr" }}

        {{ $basedir := index $type_arr 0 }}
        {{ $section := site.GetPage $basedir }}
        {{ range $section.Pages.ByWeight }} 
          {{ partial "language_url_change.html" (dict "path" (.URL | absURL) )}} {{.Title}}</a>
        {{ end }}
      {{ end }}
    </div>
  </div>

  <!-- <div id="searchBox" class="search-container" hidden>
    <div class="inner-search-wrap">
      <form class="sample-form" method="post" action-xhr="/documentation/examples/api/submit-form-input-text-xhr"
        target="_top">
        <a href="#" class="search-close" on="tap:searchBox.hide">
          <svg id="close_black_24dp" xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24">
            <path id="Path_108" data-name="Path 108" d="M0,0H24V24H0Z" fill="none" />
            <path id="Path_109" data-name="Path 109"
              d="M19,6.41,17.59,5,12,10.59,6.41,5,5,6.41,10.59,12,5,17.59,6.41,19,12,13.41,17.59,19,19,17.59,13.41,12Z" />
          </svg>
        </a>


        <div class="search-form-field">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 17.997 18">
            <path id="search-solid"
              d="M17.752,15.562l-3.5-3.5a.843.843,0,0,0-.6-.246h-.573a7.308,7.308,0,1,0-1.266,1.266v.573a.843.843,0,0,0,.246.6l3.5,3.5a.84.84,0,0,0,1.192,0l.995-.995A.848.848,0,0,0,17.752,15.562ZM7.312,11.811a4.5,4.5,0,1,1,4.5-4.5A4.5,4.5,0,0,1,7.312,11.811Z" />
          </svg>
          <input type="text" id="search21" name="name" placeholder="Search..." />
          <input type="text" id="" name="name" placeholder="Search..." />
        </div>
      </form>
    </div>
  </div> -->




  <!-- FOr Local  -->
  <!-- <select class="border-0 langselector" onchange="location = this.value;">
        {{ $siteLanguages := site.Languages}}
        {{ $pageLang := .Page.Lang}}
            {{ range .Page.AllTranslations }}
            {{ $translation := .}}
            {{ range $siteLanguages }}
                {{ if eq $translation.Lang .Lang }}
                {{ $selected := false }}
                {{ if eq $pageLang .Lang}}
                  <option value="{{ $translation.Permalink }}" selected>{{ .LanguageName }}</option>
                {{ else }}
                  <option value="{{ $translation.Permalink }}">{{ .LanguageName }}</option>
                {{ end }}
                {{ end }}
            {{ end }}
            {{ end }}
      </select> -->

<!-- old code
{{ $Scratch := newScratch}}
{{ $Scratch.Set "newUrl" "" }} 

<select class="border-0 langselector" onchange="location = this.value;">
  {{ $new:=  .Permalink }}
  
  {{ if eq .Lang "en" }}
    {{$newPermlink:=  replace $new "en" "jp" }}
    {{ $Scratch.Set "newUrl" $newPermlink }} 
  {{ else }}
    {{$newPermlink:=  replace $new "jp" "en" }}
    {{ $Scratch.Set "newUrl" $newPermlink }} 
  {{ end }}
    
  {{ $newUrl := $Scratch.Get "newUrl" }}
  {{ $pageLang := .Page.Lang}}
  
  {{ range $.Site.Home.AllTranslations }}
    {{ $translation := .}}
    {{ if eq $translation.Lang .Lang }}
      {{ $selected := false }}
    {{ if eq $pageLang .Lang}}
        <option value="{{ $newUrl }}" selected>{{ .Language.LanguageName }}</option>
    {{ else }}
        <option value="{{ $newUrl }}">{{ .Language.LanguageName }}</option>
    {{ end }}
    {{ end }}
  {{ end }}
</select> -->